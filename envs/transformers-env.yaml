builder_version: ">=13.0.0"

packages:
{% if s390x %}
  - feedstock : https://github.com/AnacondaRecipes/libvpx-feedstock
    git_tag : c34e6177a29623e268c6533d19a3d5efebd13711
    patches :
      - feedstock-patches/libvpx/0001-enable-libvpx-for-s390x.patch
  - feedstock : https://github.com/AnacondaRecipes/yasm-feedstock
    git_tag : 94a331b4ddce69c3c105ff97e54d659dcdecd25e
{% endif %}
  - feedstock : https://github.com/conda-forge/rust-feedstock.git
    git_tag : c94f3a87eef0c274fa3c8f6f8a6ce364caa30437
    patches:
      - feedstock-patches/rust/0001-Fixed-build.patch
  - feedstock : https://github.com/conda-forge/rust-activation-feedstock
    git_tag : 15daecc326884626192eecfe6279580edaad0855
    patches :
      - feedstock-patches/rust-activation/0001-Fixed-build.patch
  - feedstock: https://github.com/conda-forge/tokenizers-feedstock
    git_tag : 8bdaa6419a2aa2b336076a4a3d714244afb6cc88
    patches :
      - feedstock-patches/tokenizers/0001-opence-changes.patch  #[ppc64le]
      - feedstock-patches/tokenizers/0001-opence-changes-for-x86-and-s390x.patch  #[not ppc64le]
  - feedstock : https://github.com/conda-forge/safetensors-feedstock     #[not x86_64]
    git_tag : 1e5227b14f1c93caa9819f429e15b859cee36236                   #[not x86_64]
  - feedstock : https://github.com/conda-forge/transformers-feedstock
    git_tag : 053ca66df0d4963ad295b5e2f9f0d0a2f42c51b1
  - feedstock : https://github.com/conda-forge/huggingface_hub-feedstock
    git_tag : 7ef40d11fe9b1d2af78b66ea04ea293b1cb21ab2
    patches :                                                                  #[ppc64le]
      - feedstock-patches/huggingface-hub/0001-Pinned-typing-extensions.patch  #[ppc64le]
git_tag_for_env: open-ce-v1.11.3
