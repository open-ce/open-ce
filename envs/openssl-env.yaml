builder_version: ">=10.0.1"

packages:
  - feedstock: openssl
  - feedstock : https://github.com/conda-forge/rust-feedstock
    git_tag : 0181e7e92d5d5eeb952f5a08eead4dd840bf443f     # 1.65
  - feedstock : https://github.com/conda-forge/rust-activation-feedstock
    git_tag : f025039f103f39e50829188fe020b09ec8374edd
    patches :
      - feedstock-patches/rust-activation/0001-Fixed-build.patch
  - feedstock: https://github.com/AnacondaRecipes/cryptography-feedstock 
    git_tag : 926030e5fd40c00a9716e00efa62f4e286aaa8b1
    patches :
      - feedstock-patches/cryptography/0001-opence-changes-for-crytography.patch

  # overrides the ffmpeg feedstock used in the ffmpeg env.
  # the patch used here adds a dependency on opence openssl for FIPS build
  - feedstock : https://github.com/AnacondaRecipes/ffmpeg-feedstock
    git_tag : 57ca332013295a161307fa10afdae2197a56cc93
    patches :
      - feedstock-patches/ffmpeg/0001-opence-changes-for-build-with-openssl-for-fips.patch

git_tag_for_env: open-ce-v1.9.0
