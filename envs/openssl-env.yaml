builder_version: ">=10.0.1"

packages:
  - feedstock: openssl
  - feedstock : https://github.com/conda-forge/rust-feedstock
    git_tag : c89f28555e45730b64ba0e6e28b440cd1d6e806c # 1.71
    patches:                                                                          #[s390x]
      - feedstock-patches/rust/0001-Add-fix-to-support-390x-platform.patch            #[s390x]
  - feedstock : https://github.com/conda-forge/rust-activation-feedstock
    git_tag : df83e9f4c99787a3c68f892a5808623484527a95
    patches :
      - feedstock-patches/rust-activation/0001-Fixed-build.patch
  - feedstock: https://github.com/AnacondaRecipes/cryptography-feedstock
    git_tag : 9a5d0096892ec8c0a990026fef0b641160dcfaa1                                #[not ppc64le]
    patches:                                                                          #[not ppc64le]
      - feedstock-patches/cryptography/0001-Update-to-v41.0.4.patch                   #[not ppc64le] 
  - git_tag : 926030e5fd40c00a9716e00efa62f4e286aaa8b1                                #[ppc64le]
    patches :                                                                         #[ppc64le]
      - feedstock-patches/cryptography/0001-opence-changes-for-crytography-v39.patch  #[ppc64le]
  - feedstock: https://github.com/AnacondaRecipes/cryptography-vectors-feedstock      #[not ppc64le]
    git_tag : da99f6d9c556d180dec326a941f2d8293819a113                                #[not ppc64le]
    patches:                                                                          #[not ppc64le]
      - feedstock-patches/cryptography-vectors/0001-Update-to-v41.0.4.patch           #[not ppc64le]

  # overrides the ffmpeg feedstock used in the ffmpeg env.
  # the patch used here adds a dependency on opence openssl for FIPS build
  - feedstock : https://github.com/AnacondaRecipes/ffmpeg-feedstock
    git_tag : 57ca332013295a161307fa10afdae2197a56cc93
    patches :
      - feedstock-patches/ffmpeg/0001-opence-changes-for-build-with-openssl-for-fips.patch

git_tag_for_env: open-ce-v1.7.9
