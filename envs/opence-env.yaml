builder_version: ">=10.0.1"

imported_envs:
  - common-deps.yaml
  - openblas-env.yaml
  - onnx-env.yaml
  - pytorch-env.yaml                   # [build_type == 'cpu' or cudatoolkit == '11.8']
  - pytorch-extras-env.yaml            # [build_type == 'cpu' or cudatoolkit == '11.8']
  - pytorch_geometric-env.yaml         # [build_type == 'cpu' or cudatoolkit == '11.8']
  - tensorflow-env.yaml
  - xgboost-env.yaml
  - dali-env.yaml                      # [build_type == 'cpu' or cudatoolkit == '11.8']
  - horovod-env.yaml                   # [build_type == 'cpu' or cudatoolkit == '11.8']
  - lightgbm-env.yaml
  - arrow-env.yaml
  - mamba-env.yaml

#  - ray-env.yaml
  - apache-beam-env.yaml
#  - prophet-env.yaml
  - orbit-ml-env.yaml                  # [build_type == 'cpu' or cudatoolkit == '11.8']
  - deepspeed-env.yaml                 # [build_type == 'cpu' or cudatoolkit == '11.8']
  - misc-env.yaml
  - or-tools-env.yaml
#  - tensorflow-serving-env.yaml
  - transformers-env.yaml

  - ffmpeg-env.yaml

packages:
  - feedstock : https://github.com/conda-forge/eigen-feedstock.git
    git_tag : cf27c74f2a22569ffde4cc53f58b381905c667eb
  - feedstock : https://github.com/conda-forge/datasets-feedstock.git
    git_tag : fb3f04ae741963e29698b54f75eab4da549db6fb
    patches:
      - feedstock-patches/datasets/0001-changes-for-opence.patch
  - feedstock : https://github.com/conda-forge/eigen-feedstock.git
    git_tag : cf27c74f2a22569ffde4cc53f58b381905c667eb
  - feedstock : https://github.com/conda-forge/llvmlite-feedstock.git   #[s390x]
    git_tag : 178d2bece5cae82d1ad320c2abfe727d4ef8809b                  #[s390x]
  - feedstock : opencv
  - feedstock : cudatoolkit-dev     # [build_type == 'cuda']
  - feedstock : zdnn      # [s390x]

git_tag_for_env: open-ce-v1.9.4
