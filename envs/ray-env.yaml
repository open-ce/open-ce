builder_version: ">=13.0.0"

imported_envs:
{% if not s390x %}
  - arrow-env.yaml
  - tensorflow-env.yaml
  - openblas-env.yaml
{% endif %}

packages:
{% if not s390x %}
  - feedstock : https://github.com/AnacondaRecipes/uvicorn-feedstock.git 
    git_tag: 312dca71c6d5a752ad6a2ab7c0a65a55b71a3e81
    patches:
      - feedstock-patches/uvicorn/0001-remove-unicode-char-from-summary.patch
      - feedstock-patches/uvicorn/0001-Removed-skip-build-for-py310.patch
  - feedstock : https://github.com/AnacondaRecipes/cfitsio-feedstock
    git_tag: f965e25fdec2b5dee0965cfaf2635384ae8e16ed
    patches: 
      - feedstock-patches/cfitsio/0001-Open-ce-changes.patch
  - feedstock : https://github.com/conda-forge/starlette-feedstock
    git_tag : 8043cc232022c06b91ea8da00ac291def319a81e  #0.36.2
    patches:
      - feedstock-patches/starlette/0001-Pinned-python-multipart-to-fix-CVE-2024-24762.patch
  - feedstock : https://github.com/conda-forge/python-multipart-feedstock  #0.0.7
    git_tag : ac3f03bf718b99e92676ee0cc17c04d1f4301c24
    patches:
      - feedstock-patches/python-multipart/0001-Changed-source-for-python-multipart.patch
  - feedstock : https://github.com/conda-forge/aiorwlock-feedstock
    git_tag : 1431680c5d1e8b842704ce40ced10377cade59e7
  - feedstock : https://github.com/conda-forge/fastapi-feedstock
    git_tag : 3dd382b293b66015609d422170f4e0719ae58100
    patches:
      - feedstock-patches/fastapi/0001-Open-ce-changes.patch  #v0.109.1
  - feedstock : https://github.com/conda-forge/anyio-feedstock
    git_tag : 4204c3f90b747bcf6673f61a77f40aa16239612c
    patches:
      - feedstock-patches/anyio/0001-Skipped-failed-tests.patch
  - feedstock : https://github.com/AnacondaRecipes/pydantic-core-feedstock
    git_tag : b4a76d6016ac5c555a0cf1763d887f5c67c2d210
    patches:
      - feedstock-patches/pydantic-core/0001-changes-for-opence.patch
  - feedstock : https://github.com/AnacondaRecipes/pydantic-feedstock
    git_tag: 6148ac902c701e69aab9d00846c19e1565b7e083
  - feedstock : dm-tree
  - feedstock : https://github.com/AnacondaRecipes/opencensus-feedstock
    git_tag : 29535305e9e7456f6b82758366a581cfa8512bfd
    patches :
      - feedstock-patches/opencensus/0001-Remove-constraint-from-google-api-core.patch 
  - feedstock : ray-packages
{% endif %}
git_tag_for_env: open-ce-v1.11.2
