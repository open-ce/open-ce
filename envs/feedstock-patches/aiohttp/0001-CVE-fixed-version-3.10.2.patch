From 07282edc4c68cc51877f4e1c14c046ce3e91ca84 Mon Sep 17 00:00:00 2001
From: Archana-Shinde1 <Archana.Shinde1@ibm.com>
Date: Mon, 2 Sep 2024 09:45:10 +0000
Subject: [PATCH] CVE fixed version 3.10.2

---
 recipe/meta.yaml | 17 ++++++++++-------
 1 file changed, 10 insertions(+), 7 deletions(-)

diff --git a/recipe/meta.yaml b/recipe/meta.yaml
index dbe751e..82ce1c3 100644
--- a/recipe/meta.yaml
+++ b/recipe/meta.yaml
@@ -1,8 +1,9 @@
+{% set name = "aiohttp" %}
 {% set tests_to_skip = "_not_a_real_test" %}
 {% set version = "3.10.2" %}
 
 package:
-  name: aiohttp
+  name: {{name|lower }}
   version: {{ version }}
 
 source:
@@ -17,24 +18,26 @@ source:
 build:
   number: 0
   skip: true  # [win and python_impl == "pypy"]
-  script: {{ PYTHON }} -m pip install . -vv
+  script: {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
 
 requirements:
   build:
-    - python                                 # [build_platform != target_platform]
-    - cross-python_{{ target_platform }}     # [build_platform != target_platform]
-    - cython                                 # [build_platform != target_platform]
+#    - python                                 # [build_platform != target_platform]
+#    - cross-python_{{ target_platform }}     # [build_platform != target_platform]
+#    - cython                                 # [build_platform != target_platform]
     - {{ compiler('c') }}
-    - {{ stdlib("c") }}
+#    - {{ stdlib("c") }}
   host:
     - python
     - pip
     - cython
+    - setuptools
+    - wheel
   run:
     - aiohappyeyeballs >=2.3.0
     - python
     - aiosignal >=1.1.2
-    - async-timeout >=4.0,<5.0  # [py<311]
+    - async-timeout >=4.0,<5.0
     - attrs >=17.3.0
     - frozenlist >=1.1.1
     - multidict >=4.5,<7.0
-- 
2.40.1

