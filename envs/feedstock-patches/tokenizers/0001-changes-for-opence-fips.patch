From 0ee4d342c6c252de6d8478e49e37355b2d5d9f43 Mon Sep 17 00:00:00 2001
From: Deepali Chourasia <deepch23@in.ibm.com>
Date: Fri, 28 Apr 2023 09:58:12 +0000
Subject: [PATCH] changes for opence fips

---
 recipe/meta.yaml | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

diff --git a/recipe/meta.yaml b/recipe/meta.yaml
index 004052a..b0f1b74 100644
--- a/recipe/meta.yaml
+++ b/recipe/meta.yaml
@@ -23,8 +23,8 @@ build:
     - export PYO3_CROSS_PYTHON_VERSION=$PY_VER
     # see below for what OPENSSL_DIR should be pointing to:
     # https://github.com/sfackler/rust-openssl/blob/openssl-sys-v0.9.72/openssl/src/lib.rs#L55-L56
-    - export OPENSSL_DIR=$PREFIX
     {% endif %}
+    - export OPENSSL_DIR=$PREFIX
     - cd bindings/python
     - {{ PYTHON }} -m pip install . -vv
 
@@ -32,17 +32,18 @@ requirements:
   build:
     - python                                 # [build_platform != target_platform]
     - cross-python_{{ target_platform }}     # [build_platform != target_platform]
-    - openssl                                # [build_platform != target_platform]
+    - openssl 1.1.1zz
     - {{ compiler('cxx') }}
     - {{ compiler('rust') }}
   host:
     - python
-    - pip
+    - pip 23
     - setuptools-rust >=0.11.5
     - setuptools
-    - openssl    # [linux]
+    - openssl 1.1.1zz
   run:
     - python
+    - openssl 1.1.1zz
 
 test:
   imports:
-- 
2.34.1

